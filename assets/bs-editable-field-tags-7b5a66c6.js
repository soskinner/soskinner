define("@widget/RSS/c/bs-editable-field-tags-7b5a66c6.js",["exports"],(function(e){"use strict";function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},t.apply(this,arguments)}var a={local:{blogDomain:"https://blog.apps.dev-secureserver.net",rssDomain:"https://rss.apps.dev-secureserver.net",subscribersDomain:"https://gem.dev-godaddy.com"},development:{blogDomain:"https://blog.apps.dev-secureserver.net",rssDomain:"https://rss.apps.dev-secureserver.net",subscribersDomain:"https://gem.dev-godaddy.com"},test:{blogDomain:"https://blog.apps.test-secureserver.net",rssDomain:"https://rss.apps.test-secureserver.net",subscribersDomain:"https://gem.test-godaddy.com"},production:{blogDomain:"https://blog.apps.secureserver.net",rssDomain:"https://rss.apps.secureserver.net",subscribersDomain:"https://emailmarketing.secureserver.net"}};const o=/mobile/i;function r(e){return o.test(e)?"mobile":"tablet"}var l=(global.keyMirror||guac.keymirror)({RSS_SECTION_BACKGROUND:null,RSS_SECTION_TITLE_RENDERED:null,RSS_SECTION_INTRO_RENDERED:null,RSS_SCROLL_LEFT_ARROW:null,RSS_SCROLL_RIGHT_ARROW:null,RSS_FEEDS_RENDERED:null,RSS_CAROUSEL_COUNTER:null,RSS_FEED_RENDERED:null,RSS_FEED_CATEGORIES_RENDERED:null,RSS_FEED_CATEGORY_RENDERED:null,RSS_FEED_POST_DATE_RENDERED:null,RSS_FEED_POST_CATEGORIES_RENDERED:null,RSS_FEED_POST_SEPARATOR_RENDERED:null,RSS_FEED_POST_CONTENT_RENDERED:null,RSS_NO_POSTS:null,RSS_READ_MORE:null,RSS_BLOG_CTA_RENDERED:null,RSS_BTN_CTA_RENDERED:null,RSS_VIEWPOST_SIDEBAR:null,RSS_VIEWPOST_EMAIL:null,RSS_POST_DATE:null,RSS_POST_CATEGORIES:null,RSS_SOCIAL_SHARE_TOP_FACEBOOK:null,RSS_SOCIAL_SHARE_TOP_TWITTER:null,RSS_SOCIAL_SHARE_BOTTOM_FACEBOOK:null,RSS_SOCIAL_SHARE_BOTTOM_TWITTER:null,RSS_SHOW_MORE_BUTTON:null}),s={formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"long";const o=t.originalDate||t.date;if(!o||!o.endsWith("Z"))return o;const r={year:"numeric",month:a,day:"numeric"};return new Intl.DateTimeFormat(e,r).format(new Date(o))}};function c(e,t){if(!e||""===e)return null;if(!t)return e;const a=e.endsWith("/")?"":"/",o=e.indexOf("/:/")>=0?"":":/";return`${e}${a}${o}${t}`}const i="internal",n="blogpost",g="blogcategory",p="blog",u="f";function d(e){return e.indexOf("/f/")}function b(){const e=new URL(window.location.href);e.searchParams.delete(n);const t=d(e.pathname);return t>-1&&(e.pathname=e.pathname.substr(0,t)),e.toString()}function m(e,t,a){if(a)return a;const o=new URL(window.location.href);if(o.searchParams.delete(p),o.searchParams.delete(n),t)o.pathname=`${t}/f/${e}`.replace(/\/{2,}/g,"/");else{for(const e of[u,"ola/services"]){const t=o.pathname.indexOf(`/${e}/`);if(t>-1){o.pathname=o.pathname.substr(0,t);break}}o.pathname=`${o.pathname}/f/${e}`.replace(/\/{2,}/g,"/")}return o.toString()}function y(e){return new URLSearchParams(window.location.search).get(e)}function h(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href;const o=new URL(a);return t?o.searchParams.set(e,t):o.searchParams.delete(e),o.hash="",o.toString()}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;const a=h(n,e,t),o=e?null:"y";return h(p,o,a)}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return E(null,e)}class R extends(global.React||guac.react).Component{constructor(){super(...arguments),this.onPostClick=this.onPostClick.bind(this)}static get propTypes(){return{post:(global.PropTypes||guac["prop-types"]).object.isRequired,locale:(global.PropTypes||guac["prop-types"]).object.isRequired,clickHandler:(global.PropTypes||guac["prop-types"]).func.isRequired,viewDevice:(global.PropTypes||guac["prop-types"]).string.isRequired,renderMode:(global.PropTypes||guac["prop-types"]).string.isRequired,currentPageRoute:(global.PropTypes||guac["prop-types"]).string}}onPostClick(){const{clickHandler:e,post:t}=this.props;e&&e(t.slug)}getImageBlock(e){if(!e)return null;const t={float:"left",height:"110px",width:"110px",marginRight:"small",marginBottom:"xsmall"};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Background,{backgroundImage:c(e,"rs=h:110,m,cg:true/cr=w:110"),style:t}))}render(){const{post:e,renderMode:t,currentPageRoute:a,locale:o}=this.props,r={container:{overflow:"auto",marginTop:"medium",marginBottom:"medium"},title:{"-webkit-line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box"},date:{marginTop:"small"}};if(e)return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:r.container},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{href:"PUBLISH"===t?m(e.slug,a):null,onClick:this.onPostClick},this.getImageBlock(e.featuredImage),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:r.title,featured:!0},e.title),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{style:r.date},s.formatDate(o,e,"short"))))}}const T=e=>{let{categoriesFilter:t=[],categories:a}=e;return(t.length?a.filter((e=>{let{categoryId:a}=e;return t.includes(a)})):a).map((e=>{let{name:t}=e;return t})).sort()},C=()=>y(g),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b();return h(g,e,t)},S=e=>!(!e||!e.length);class P extends(global.React||guac.react).Component{static get propTypes(){return{categories:(global.PropTypes||guac["prop-types"]).array.isRequired,categoryClickHandler:(global.PropTypes||guac["prop-types"]).func.isRequired,selectedCategory:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object,renderVertically:(global.PropTypes||guac["prop-types"]).bool,title:(global.PropTypes||guac["prop-types"]).string}}constructor(){super(...arguments),this.renderCategory=this.renderCategory.bind(this)}onCategoryClick(e,t){t.preventDefault(),this.props.categoryClickHandler(e)}renderCategory(e,t){const{selectedCategory:a,staticContent:o}=this.props,r=!e,s=r&&!a||e===a,c=r?o.allPosts:e,i=s?(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link.Active:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.ListItem.Inline,{key:e},(global.React||guac.react).createElement(i,{"data-aid":`${l.RSS_FEED_CATEGORY_RENDERED}_${t}`,href:f(e),onClick:this.onCategoryClick.bind(this,e)},c))}render(){const{categories:e,renderVertically:t=!1,title:a}=this.props,o=e.length?[""].concat(e):[],r=t?(global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Nav.Vertical:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Nav.Horizontal;return(global.React||guac.react).createElement(r,{"data-aid":l.RSS_FEED_CATEGORIES_RENDERED},a&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:a}),o.length&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.List,null,o.map(this.renderCategory)))}}class _ extends(global.React||guac.react).Component{constructor(){super(...arguments),this.onEmailFieldType=this.onEmailFieldType.bind(this),this.onSubmit=this.onSubmit.bind(this),this.renderForm=this.renderForm.bind(this),this.sendForm=this.sendForm.bind(this),this.renderConfirmation=this.renderConfirmation.bind(this),this.state={email:"",formSubmitted:!1}}static get propTypes(){return{websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,env:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired}}sendForm(){const{websiteId:e,env:t}=this.props,o=a&&a[t]||{},{email:r}=this.state,l={websiteId:e,email:r};var s=((e,t)=>{var a=new XMLHttpRequest;return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a})("POST",`${o.subscribersDomain}/api/v3/website/rssToEmail/subscribe`);return s.setRequestHeader("Content-Type","application/json; charset=UTF-8"),s.onreadystatechange=this.handleSubmitResponse,s.send(JSON.stringify(l)),!0}onSubmit(e){e.preventDefault(),this.state.email&&(this.setState({formSubmitted:!0}),this.sendForm())}onEmailFieldType(e){this.setState({email:e})}renderConfirmation(){const{staticContent:{rssToEmail:{confirmation_2:e,confirmation_3:t}}}=this.props;return(global.React||guac.react).createElement("div",{style:{paddingTop:"xsmall"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,null,e,(global.React||guac.react).createElement("br",null),(global.React||guac.react).createElement("br",null),t))}renderForm(){const{email:e}=this.state,{staticContent:t}=this.props;return(global.React||guac.react).createElement("form",{onSubmit:this.onSubmit},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Input,{value:e,onChange:e=>this.onEmailFieldType(e.target.value),type:"email",placeholder:t.rssToEmail.placeholder}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{type:"submit",style:{marginTop:"small"}},t.rssToEmail.signUp))}render(){const{formSubmitted:e}=this.state,{staticContent:{rssToEmail:{confirmation_1:t,cta:a,cta_subhed:o}}}=this.props,r={title:{marginBottom:"xsmall",textAlign:"left",marginLeft:0},tagline:{marginBottom:"small"}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Group,{style:{marginBottom:"xxlarge"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":l.RSS_VIEWPOST_EMAIL},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Sub,{style:r.title},e?t:a),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{style:r.tagline},e?"":o),e?this.renderConfirmation():this.renderForm()))}}class D extends(global.React||guac.react).Component{static get propTypes(){return{locale:(global.PropTypes||guac["prop-types"]).string,env:(global.PropTypes||guac["prop-types"]).string,feed:(global.PropTypes||guac["prop-types"]).array.isRequired,post:(global.PropTypes||guac["prop-types"]).object.isRequired,backClickHandler:(global.PropTypes||guac["prop-types"]).func,renderMode:(global.PropTypes||guac["prop-types"]).string.isRequired,viewDevice:(global.PropTypes||guac["prop-types"]).string.isRequired,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,categoryClickHandler:(global.PropTypes||guac["prop-types"]).func,categories:(global.PropTypes||guac["prop-types"]).array,selectedCategory:(global.PropTypes||guac["prop-types"]).string,currentPageRoute:(global.PropTypes||guac["prop-types"]).string}}chooseSideBarPostsToDisplay(){const{feed:e,post:t}=this.props;return t&&e?e.filter((e=>e.slug!==t.slug)).slice(0,3):[]}renderCategories(){const{staticContent:e,categories:t,categoryClickHandler:a,selectedCategory:o}=this.props;return S(t)?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{marginBottom:"xxlarge"}},(global.React||guac.react).createElement(P,{categoryClickHandler:a,categories:t,selectedCategory:o,staticContent:e,title:e.categories,renderVertically:!0})):null}render(){const e=this.chooseSideBarPostsToDisplay(),{locale:t,backClickHandler:a,renderMode:o,viewDevice:r,staticContent:s,websiteId:c,env:i,currentPageRoute:n,post:{featureFlags:{rssToEmail:g=!1}={}}={}}=this.props;return(global.React||guac.react).createElement("div",{"data-aid":l.RSS_VIEWPOST_SIDEBAR},this.renderCategories(),g&&(global.React||guac.react).createElement(_,{websiteId:c,env:i,staticContent:s}),e.length>0&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Nav.Vertical,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{key:"recent"},s.recentPosts),e.map(((e,l)=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.ListItem.Inline,{key:`post-menu-item-${l}`},(global.React||guac.react).createElement(R,{key:`small-post-item-${l}`,locale:t,clickHandler:a,post:e,viewDevice:r,renderMode:o,currentPageRoute:n}))))))}}function v(e){return"unstyled"!==e.type||e.text.trim()}function k(e){const t=function(e){try{return JSON.parse(e)}catch(e){return null}}(e);if(!t||!t.blocks)return e;let{blocks:a}=t;const o=a.findIndex(v);o>0&&(a=a.slice(o));const r=a.slice().reverse().findIndex(v);return r>0&&(a=a.slice(0,-r)),t.blocks=a,JSON.stringify(t)}const O=e=>({facebook:{url:(global._||guac.lodash).template("https://www.facebook.com/sharer/sharer.php?u=<%- href %>")},twitter:{url:(global._||guac.lodash).template("https://twitter.com/share?url=<%- href %>&text=<%- title %>"+(e?"&via=<%- profile %>":""))}}),U={display:"flex",alignItems:"center",color:"black",marginRight:"-xsmall",marginTop:"medium",clear:"both"},I={position:"relative",width:"100%"},F={marginRight:"medium",fontWeight:"bold"},L={default:{display:"block",cursor:"pointer",marginRight:"xsmall"},facebook:{color:"#3b5998"}},A=e=>{let{socialNetwork:t,title:a,profile:o}=e;return()=>{const{url:e}=O(o)[t],{href:r}=window.location;window.open(e({href:encodeURI(r),title:encodeURI(a),profile:encodeURI(o)}),"Share","width=585, height=368, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0").opener=null}},x=e=>{let{label:t,mobile:a,post:o,renderMode:r}=e;const{featureFlags:{showSocial:s}={},socialSharing:c,title:i}=o;if(!s)return null;const n=Object.keys(O()).filter((e=>(global._||guac.lodash).get(c,[e,"enabled"],!0)));if(0===n.length)return null;const g=(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{...U,...a?I:{}}},t&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{style:F,featured:!0},t),n.map((e=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{key:e,size:"medium",icon:e,style:{...L.default,...L[e]},onClick:"PUBLISH"===r?A({title:i,socialNetwork:e,profile:(global._||guac.lodash).get(c,[e,"profile"])}):null,"data-aid":l[`RSS_SOCIAL_SHARE_BOTTOM_${e.toUpperCase()}`],"data-tccl":g({eid:`ux2.rss.blog.${e}_share_link.click`,type:"click"})}))))};x.propTypes={mobile:(global.PropTypes||guac["prop-types"]).bool,label:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string,post:(global.PropTypes||guac["prop-types"]).shape({featureFlags:(global.PropTypes||guac["prop-types"]).shape({showSocial:(global.PropTypes||guac["prop-types"]).bool.isRequired}).isRequired,socialSharing:(global.PropTypes||guac["prop-types"]).objectOf((global.PropTypes||guac["prop-types"]).shape({enabled:(global.PropTypes||guac["prop-types"]).bool.isRequired,profile:(global.PropTypes||guac["prop-types"]).string})),title:(global.PropTypes||guac["prop-types"]).string.isRequired}).isRequired};const M="disquswidget-js";function X(e){let{post:t}=e;const{hideCommenting:a,featureFlags:o={}}=t;return!a&&o.commenting}class B extends(global.React||guac.react).Component{componentDidMount(){X(this.props)&&function(e){let{blogId:t,postId:a}=e;a=JSON.stringify(a);const o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("class",M),o.setAttribute("async",""),o.innerHTML=`var disqus_config = function(){ this.page.url = "${window.location.href}"; this.page.identifier = ${a}; }`,document.head.appendChild(o);const r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("class",M),r.setAttribute("async",""),r.src=`https://${t}.disqus.com/embed.js`,document.body.appendChild(r)}(this.props.post)}componentWillUnmount(){[...document.getElementsByClassName(M)].forEach((e=>{e.parentNode.removeChild(e)}))}render(){if(!X(this.props))return null;const e={marginTop:"medium","@md":{paddingHorizontal:"xlarge"}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:e},(global.React||guac.react).createElement("div",{id:"disqus_thread"}))}}B.propTypes={post:(global.PropTypes||guac["prop-types"]).shape({postId:(global.PropTypes||guac["prop-types"]).string,blogId:(global.PropTypes||guac["prop-types"]).string,hideCommenting:(global.PropTypes||guac["prop-types"]).bool}),featureFlags:(global.PropTypes||guac["prop-types"]).shape({commenting:(global.PropTypes||guac["prop-types"]).bool})};class N extends(global.React||guac.react).Component{constructor(){super(...arguments),this.onBackClick=this.onBackClick.bind(this),this.renderCategories=this.renderCategories.bind(this),this.renderSubHeading=this.renderSubHeading.bind(this)}static get propTypes(){return{env:(global.PropTypes||guac["prop-types"]).string,locale:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,post:(global.PropTypes||guac["prop-types"]).object.isRequired,feed:(global.PropTypes||guac["prop-types"]).array,backClickHandler:(global.PropTypes||guac["prop-types"]).func.isRequired,viewDevice:(global.PropTypes||guac["prop-types"]).string.isRequired,renderMode:(global.PropTypes||guac["prop-types"]).string.isRequired,websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,categoryClickHandler:(global.PropTypes||guac["prop-types"]).func,categories:(global.PropTypes||guac["prop-types"]).array,selectedCategory:(global.PropTypes||guac["prop-types"]).string,currentPageRoute:(global.PropTypes||guac["prop-types"]).string}}onBackClick(e){const{backClickHandler:t}=this.props;t&&(e.preventDefault(),t())}renderCategories(e){if(e&&0!==e.length)return e.join(", ")}renderSubHeading(){const{post:e,viewDevice:t,locale:a}=this.props,o=e.categories&&e.categories.length>0;return"MOBILE_RENDER_DEVICE"===t?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{"data-aid":l.RSS_POST_DATE},s.formatDate(a,e)),o&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{"data-aid":l.RSS_POST_CATEGORIES,style:{textTransform:"uppercase"}},this.renderCategories(e.categories))):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{marginBottom:"large"},key:"date"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{tag:"span","data-aid":l.RSS_POST_DATE},s.formatDate(a,e)),o&&(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{tag:"span",style:{margin:"0 1rem"}},"|"),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{tag:"span","data-aid":l.RSS_POST_CATEGORIES},this.renderCategories(e.categories))))}renderMain(){const{post:e,staticContent:{allPosts:t,socialSharing:{sharePost:a}={sharePost:"Share this post"}},viewDevice:o,renderMode:r}=this.props,l=this.chooseSideBarPostsToDisplay(),s="MOBILE_RENDER_DEVICE"===o,c=[(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink.Backward,{style:{marginBottom:"xlarge"},href:w(b()),onClick:this.onBackClick,key:"backLink"},t)],i={borderBottom:"1px solid #e8eae8",marginBottom:"small","@md":{borderRight:"1px solid #e8eae8",borderBottom:"none",marginRight:"large"}};return e&&c.push((global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{key:"title"},e.title),this.renderSubHeading(),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Blog.Content,{style:{wordBreak:"break-word"},richtext:!0,imgOptions:{outputWidth:1280},key:"content"},k(e.fullContent)),(global.React||guac.react).createElement(x,{post:e,label:`${a}:`,mobile:s,renderMode:r})),l.length>0?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Blog.Main,{style:i},c):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Blog.Main,null,c)}chooseSideBarPostsToDisplay(){const{feed:e,post:t}=this.props;return t&&e?e.filter((e=>e.slug!==t.slug)).slice(0,3):[]}render(){const{Grid:e,Grid:{Cell:t}}=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Component,{env:a,feed:o,locale:r,post:l,backClickHandler:s,viewDevice:c,renderMode:i,staticContent:n,websiteId:g,categoryClickHandler:p,categories:u,selectedCategory:d,currentPageRoute:b}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Section,{section:"default",category:"neutral",style:{opacity:.95,paddingTop:0,"@md":{paddingTop:"medium"}}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Container,null,(global.React||guac.react).createElement(e,{xs:1,md:12,gutter:!1,style:{justifyContent:"center"}},(global.React||guac.react).createElement(t,{md:8},this.renderMain()),(global.React||guac.react).createElement(t,{md:4,style:{"@md":{paddingRight:"xlarge"}}},(global.React||guac.react).createElement(D,{feed:o,post:l,locale:r,backClickHandler:s,viewDevice:c,renderMode:i,staticContent:n,websiteId:g,env:a,categoryClickHandler:p,categories:u,selectedCategory:d,currentPageRoute:b}))),l&&(global.React||guac.react).createElement(B,{post:l})))}}const H=(e,t,a)=>a.every((a=>(t[a]||e[a])&&t[a]===e[a])),q=(e,t,a)=>a.every((a=>t[a]===e[a])),G=["Y8k4OWY","D1d8qBd","743","61355","10670"],$=new Date;const{postRender:{Actions:j,monitor:W,onWidgetRendered:z}}=(global.Core||guac["@wsb/guac-widget-core"]).utils;class V extends(global.React||guac.react).Component{static get propTypes(){return{env:(global.PropTypes||guac["prop-types"]).PropTypes.string,appDomain:(global.PropTypes||guac["prop-types"]).PropTypes.string,websiteId:(global.PropTypes||guac["prop-types"]).PropTypes.string.isRequired,pageId:(global.PropTypes||guac["prop-types"]).PropTypes.string,locale:(global.PropTypes||guac["prop-types"]).PropTypes.string,section:(global.PropTypes||guac["prop-types"]).PropTypes.string,category:(global.PropTypes||guac["prop-types"]).PropTypes.string,renderMode:(global.PropTypes||guac["prop-types"]).PropTypes.string.isRequired,viewDevice:(global.PropTypes||guac["prop-types"]).PropTypes.string.isRequired,id:(global.PropTypes||guac["prop-types"]).PropTypes.string,rssFeed:(global.PropTypes||guac["prop-types"]).PropTypes.string,categoriesFilter:(global.PropTypes||guac["prop-types"]).PropTypes.array,blogType:(global.PropTypes||guac["prop-types"]).PropTypes.string.isRequired,layout:(global.PropTypes||guac["prop-types"]).PropTypes.string.isRequired,staticContent:(global.PropTypes||guac["prop-types"]).PropTypes.object.isRequired,backgroundImage:(global.PropTypes||guac["prop-types"]).PropTypes.string,visitorMode:(global.PropTypes||guac["prop-types"]).PropTypes.bool.isRequired,detachedMode:(global.PropTypes||guac["prop-types"]).PropTypes.bool.isRequired,slug:(global.PropTypes||guac["prop-types"]).PropTypes.string,navigate:(global.PropTypes||guac["prop-types"]).PropTypes.func,imgParams:(global.PropTypes||guac["prop-types"]).PropTypes.string,filterCategory:(global.PropTypes||guac["prop-types"]).PropTypes.func,selectedCategory:(global.PropTypes||guac["prop-types"]).PropTypes.string,onFeedLoaded:(global.PropTypes||guac["prop-types"]).PropTypes.func,currentPageRoute:(global.PropTypes||guac["prop-types"]).PropTypes.string,siteFontScale:(global.PropTypes||guac["prop-types"]).PropTypes.string}}constructor(){var e,t,a;super(...arguments),a=()=>{this.pagePosition++,this.setState({nextPageLoading:!0},(()=>{this.getPromise(this.getApiFeedUrl(this.props)).then((e=>{const{feed:t,totalItems:a}=e,o=this.state.feed.concat(t);this.setState({feed:o,totalItems:a,nextPageLoading:!1})})).catch((()=>{this.setState({unfetchableFeed:!0,feed:[],categories:[],nextPageLoading:!1})}))}))},(t="getNextPage")in(e=this)?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,this.regex=new RegExp("^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,18})+","i"),this.pagePosition=1,this.state={feed:[],categories:[],rawCategories:[],totalItems:0,blogType:this.props.blogType,feedURL:this.props.rssFeed,categoriesFilter:this.props.categoriesFilter,feedLoading:!0,postLoading:!1,nextPageLoading:!1,unfetchableFeed:!1}}componentDidMount(){"undefined"==typeof window||(global._||guac.lodash).get(window,"wsb.cache.blog")||(global._||guac.lodash).merge(window,{wsb:{cache:{blog:{}}}}),this._isMounted=!0;const{blogType:e,slug:t,id:a}=this.props;W(a,j.SCROLL_TO_URL_FRAGMENT),e===i&&t&&this.getPost(this.props,t),this.getFeed(),this.getCategories()}shouldComponentUpdate(e,t){return this.props.blogType!==e.blogType||e.blogType!==i||"EDIT"===e.renderMode||!H(this.props,e,["slug"])||!q(this.state,t,["post","feed","selectedCategory"])}componentDidUpdate(e,t){const{blogType:a,slug:o,rssFeed:r,categoriesFilter:l,id:s}=this.props;a===i?(o&&o!==e.slug?this.getPost(this.props,o):e.categoriesFilter!==l?this.getFeed():!o&&e.slug,"external"===e.blogType&&this.getCategories()):a===e.blogType&&r===e.rssFeed||(this.getFeed(),this.setState({categories:[]})),this.checkSettings(this.props),t.feedLoading&&!this.state.feedLoading&&z(s,j.SCROLL_TO_URL_FRAGMENT)}checkSettings(e){let t=!1;const{blogType:a,rssFeed:o,categoriesFilter:r}=e,{rawCategories:l}=this.state;a!==this.state.blogType&&(this.setState({blogType:e.blogType}),t=!0),o!==this.state.feedURL&&(this.setState({feedURL:o}),t=!0),r!==this.state.categoriesFilter&&this.setState({categoriesFilter:r,categories:T({categoriesFilter:r,categories:l})}),t&&this.getFeed()}getFeed(){this.getDataFromApi(this.getApiFeedUrl(this.props))}getCategories(){const{blogType:e,websiteId:t,env:o,categoriesFilter:r}=this.props;if(e===i&&!this.state.categories.length){const{blogDomain:e}=a&&a[o]||{};(e=>{var t;let{websiteId:a,blogDomain:o,cb:r}=e;if(null===(t=window)||void 0===t||!t.fetch)return r([]);window.fetch(`${o}/v1/website/${a}/categories`).then((e=>e.json())).then((e=>{let{categories:t=[]}=e;return r(t)}))})({websiteId:t,blogDomain:e,cb:e=>{this.setState({rawCategories:e,categories:T({categoriesFilter:r,categories:e})})}})}}getPost(e,t){if(t)if(window._BLOG_DATA&&window._BLOG_DATA.post)this.setState({post:window._BLOG_DATA.post,postLoading:!1});else{this.setState({post:null,postLoading:!0});const{env:o,websiteId:r}=e,l=`${(a&&a[o]||{}).blogDomain}/v1/website/${r}/feed/post/${t}`;this.getDataFromApi(l,t)}}componentWillUnmount(){this._isMounted=!1}getApiFeedUrl(e){const{env:t,websiteId:o,pageId:r,id:l,locale:s,blogType:c,rssFeed:n,categoriesFilter:g,renderMode:p}=e;let u;const d={},{blogDomain:b,rssDomain:m}=a&&a[t]||{};if(c===i&&"DISPLAY"!==p){u=`${b}/v1/website/${o}/feed`,g&&g.length&&(d.categories=g.join(","));const e="undefined"!=typeof window&&C();this.paginateFeed&&!e&&(d.pageItems=10,d.pageSelected=this.pagePosition);const t=Object.keys(d).map((e=>`${e}=${d[e]}`)).join("&");u=t?`${u}?${t}`:u}else{if(!this.regex.test(n))return void this.setState({feedLoading:!1,feed:[],categories:[]});u=`${m}/v1/feed/${o}/${r}/${l}?feedUrl=${encodeURIComponent(n)}&locale=${s}`}return u}getDataFromApi(e,t){if(!this._isMounted||!e)return;this.getPromise(e).then((a=>{const{feed:o,post:r,totalItems:l}=a;t&&e.indexOf(t)>-1?this.setState({slug:t,post:r,postLoading:!1}):this.setState({feed:o,totalItems:l,feedLoading:!1},this.props.onFeedLoaded)})).catch((()=>{t&&e.indexOf(t)>-1?this.setState({unfetchableFeed:!0,slug:t,post:{},postLoading:!1}):this.setState({unfetchableFeed:!0,feed:[],categories:[],feedLoading:!1})}))}retrievePromise(e,t){if("undefined"!=typeof window){if(e in window.wsb.cache.blog&&t<=window.wsb.cache.blog[e].time+600)return window.wsb.cache.blog[e].promise}return null}getPromise(e){const t=Math.floor((new Date).getTime()/1e3),a=this.retrievePromise(e,t);if(a)return a;const o=new Promise(((t,a)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.send(),o.onreadystatechange=()=>{if(4===o.readyState)if(200===o.status||304===o.status){const e=JSON.parse(o.responseText);t(e)}else a(new Error("Failed to retrieve feed"))}}));return"undefined"!=typeof window&&(window.wsb.cache.blog[e]={promise:o,time:t}),o}renderShowMoreButton(){const{staticContent:e}=this.props,{nextPageLoading:t}=this.state;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingVertical:"xlarge",textAlign:"center"}},t?this.renderLoadingAnimation():(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink.Expand,{tag:"span",onClick:this.getNextPage,"data-aid":l.RSS_SHOW_MORE_BUTTON,children:e.showMore,"data-edit-interactive":!0}))}renderEditorPlaceholderMessage(){const{appDomain:e,renderMode:t,staticContent:a,websiteId:o}=this.props,r={renderMode:t,"data-aid":l.RSS_BLOG_CTA_RENDERED,beforeContent:(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{typography:"HeadingGamma",active:!0,children:a.edit_mode_cta.title,className:"ab-blog-widget-setup-title"}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{typography:"BodyBeta",children:a.edit_mode_cta.sub_title,className:"ab-blog-widget-setup-subtitle"})),button:{typography:"none",onClick:e=>e.stopPropagation(),href:`https://blogging.${e}/website/${o}`,children:a.edit_mode_cta.btn_label,className:"ab-blog-widget-setup-button","data-aid":l.RSS_BTN_CTA_RENDERED,trafficId:"pandc.vnext.edit_site.rss_widget.start_writing.click"}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.ZeroStateOverlay,r)}renderPlaceholderMessage(){const{visitorMode:e,staticContent:t,section:a,backgroundImage:o}=this.props,{noPosts:r,feedNotFetchable:s}=t,c=this.state.unfetchableFeed&&!e?s:r,i={"data-aid":l.RSS_NO_POSTS},n=a.match(/_(.+)/),g=n?n[1]:a;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.PlaceholderMessage,{section:o?"overlay":"default"===g?"alt":"default",message:c,textProps:i})}renderLoadingAnimation(){const e={position:"relative",...this.extraLoadingContainerStyles&&this.extraLoadingContainerStyles};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:e},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Loader,{size:"medium",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",paddingTop:"medium",fontColor:"lowContrast"}}))}renderPost(){const{env:e,locale:t,navigate:a,renderMode:o,viewDevice:r,staticContent:l,websiteId:s,filterCategory:c,selectedCategory:i,currentPageRoute:n}=this.props,{post:g,feed:p,categories:u}=this.state;return(global.React||guac.react).createElement(N,{post:g,locale:t,feed:p,staticContent:l,backClickHandler:a,viewDevice:r,renderMode:o,websiteId:s,env:e,categoryClickHandler:c,categories:u,selectedCategory:i,currentPageRoute:n})}renderFeed(){const{locale:e,section:t,category:a,renderMode:o,viewDevice:r,detachedMode:l,staticContent:s,backgroundImage:c,blogType:n,navigate:g,filterCategory:p,selectedCategory:u,currentPageRoute:d,siteFontScale:b}=this.props,m=n===i&&"DISPLAY"===o?"":this.props.imgParams,{feed:y,totalItems:h}=this.state,E=((e,t)=>t?e.filter((e=>{let{categories:a}=e;return a&&a.includes(t)})):e)(y,u),w=function(e){return e.map(((e,t)=>{let{title:a,content:o}=e;return{title:a,content:o,date:$.toISOString(),featuredImage:`https://img1.wsimg.com/isteam/stock/${G[t]}`}}))}(s.staticFeed),R="ADD"===o&&y.length<=0?w:E;return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement(this.cardGroupComponent,{locale:e,feeds:R,viewDevice:r,renderMode:o,section:t,category:a,detachedMode:l,staticContent:s,backgroundImage:c,imgParams:m,blogType:n,cardClickHandler:n===i?g:void 0,categoryClickHandler:p,categories:this.state.categories,selectedCategory:u,currentPageRoute:d,siteFontScale:b}),n===i&&this.paginateFeed&&R.length<h&&!u&&this.renderShowMoreButton())}render(){const{renderMode:e,blogType:t,slug:a}=this.props,{feed:o,postLoading:r,feedLoading:l}=this.state;return r||l?this.renderLoadingAnimation():"ADD"===e&&o.length<=0?this.renderFeed():window._BLOG_DATA||a&&a.length>0?this.renderPost():o.length>0?this.renderFeed():t===i&&"EDIT"===e?this.renderEditorPlaceholderMessage():this.renderPlaceholderMessage()}}const{MatchMedia:Y}=(global.Core||guac["@wsb/guac-widget-core"]).UX,J="PUBLISH";class K extends(global.React||guac.react).Component{constructor(){super(...arguments),this.onCardClick=this.onCardClick.bind(this),this.renderSubHeading=this.renderSubHeading.bind(this)}static get propTypes(){return{feed:(global.PropTypes||guac["prop-types"]).object.isRequired,locale:(global.PropTypes||guac["prop-types"]).string,style:(global.PropTypes||guac["prop-types"]).object.isRequired,showContent:(global.PropTypes||guac["prop-types"]).bool.isRequired,isCard:(global.PropTypes||guac["prop-types"]).bool,dataAid:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,cardClickHandler:(global.PropTypes||guac["prop-types"]).func,imgParams:(global.PropTypes||guac["prop-types"]).string,viewDevice:(global.PropTypes||guac["prop-types"]).string.isRequired,showCategories:(global.PropTypes||guac["prop-types"]).bool.isRequired,currentPageRoute:(global.PropTypes||guac["prop-types"]).string,device:(global.PropTypes||guac["prop-types"]).string,isRss3:(global.PropTypes||guac["prop-types"]).bool}}onCardClick(e){const{feed:t,cardClickHandler:a}=this.props;a&&(e.preventDefault(),a(t.slug))}renderSubHeading(e,t){const{categories:a}=e,{showCategories:o,device:r,isRss3:c,locale:i}=this.props,n={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"65%",position:"relative",bottom:"0",left:"0"},g={maxWidth:"37%",position:"relative",bottom:"0",marginLeft:"1em"},p={height:"1.5em",position:"relative",display:"flex",justifyContent:"flex-start"},u={maxWidth:"46%",marginLeft:"1em"};return o&&a&&0!==a.length?"mobile"===r?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:p},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{style:{whiteSpace:"nowrap"},tag:"span","data-aid":l.RSS_FEED_POST_DATE_RENDERED},s.formatDate(i,e))),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{tag:"span","data-aid":l.RSS_FEED_POST_CATEGORIES_RENDERED,style:c?{...n,...u}:{...n,...g}},a.join(", "))):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:p},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{style:{whiteSpace:"nowrap"},tag:"span","data-aid":l.RSS_FEED_POST_DATE_RENDERED},s.formatDate(i,e)),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{tag:"span","data-aid":l.RSS_FEED_POST_SEPARATOR_RENDERED,style:{margin:"0 1rem"}},"|"),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{tag:"span","data-aid":l.RSS_FEED_POST_CATEGORIES_RENDERED,style:n},a.join(", "))):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details,{"data-aid":l.RSS_FEED_POST_DATE_RENDERED,style:{lineHeight:"normal",...t.details}},s.formatDate(i,e))}render(){const{feed:e,style:t,showContent:a,dataAid:o,staticContent:r,isCard:s,cardClickHandler:i,imgParams:n="",currentPageRoute:g,isRss3:p}=this.props,{content:u,date:d,featuredImage:b,title:y,url:h,slug:E}=e,w=s?(global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Card.Link:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Group,R=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.rss.read_more_link.click",type:"click"}),T=p?(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Product:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{href:m(E,g,h),target:h&&"_blank",onClick:i&&this.onCardClick},(global.React||guac.react).createElement(w,{"data-aid":o,style:t.container},b&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:t.backgroundContainer},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Background,{backgroundImage:c(b,n),style:t.background})),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{...t.content,overflow:"hidden",flexGrow:1}},d&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:t.text},this.renderSubHeading(e,t)),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement(T,{style:{...t.text,...t.title,lineHeight:"1.125"}},y),a&&u&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":l.RSS_FEED_POST_CONTENT_RENDERED,style:t.text},u)),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink,{tag:"span","data-aid":l.RSS_READ_MORE,"data-tccl":R},r.readMore)))))}}e.C=P,e.D=l,e.F=K,e.I=i,e.R=V,e._=t,e.a=function(e){const{hash:t}=e.location;return t&&/^#post-\d+$/.test(t)},e.b=function(){if(window&&window._BLOG_DATA&&window._BLOG_DATA.post)return window._BLOG_DATA.post.slug;const{pathname:e}=window.location;return e.substr(d(e)+"/f/".length)},e.c=function(){return y(n)},e.d=C,e.e=H,e.f={SECTION_TITLE:"sectionTitle",SECTION_INTRO:"sectionIntro",FEED_URL:"rssFeed",CATEGORIES_FILTER:"categoriesFilter"},e.g=function(){return!!y(p)},e.h=S,e.i=q,e.j=f,e.k=w,e.l=m,e.m=b,e.n=E,e.p=function(){return window.location&&window.location.pathname&&window.location.pathname.includes("/f/")},e.s=X,e.w=function(e){return class extends(global.React||guac.react).Component{static get propTypes(){return{renderMode:(global.PropTypes||guac["prop-types"]).string,viewDevice:(global.PropTypes||guac["prop-types"]).string}}constructor(e){super(...arguments),this.handleMatchMedia=this.handleMatchMedia.bind(this);const t={};e.renderMode!==J&&(t.device=r(e.viewDevice)),this.state=t}componentDidUpdate(e){e.renderMode!==J&&e.renderMode!==this.props.renderMode&&this.setState({device:r(this.props.viewDevice)})}handleMatchMedia(e){e.size!==this.state.size&&this.setState({size:e.size})}render(){const{size:a}=this.state;let{device:o}=this.state;return o||(o="xs"===a?"mobile":"tablet"),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement(e,t({},this.props,{device:o,size:a})),(global.React||guac.react).createElement(Y,{onChange:this.handleMatchMedia}))}}}})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=bs-editable-field-tags-7b5a66c6.js.map
